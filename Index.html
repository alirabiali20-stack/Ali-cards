<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ali Cards Platform - Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet" />

<style>
:root{
  --rightBg:#13a7b7;
  --leftBg:#ffffff;
  --cardText:#ffffff;
  --leftText:#111111;

  /* âœ… Ù†Ù‚Ø´Ø© (Pattern) ØªØªØºÙŠØ± Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¬Ø§Ù„ */
  --leftPattern: none;
  --rightPattern: none;
}

*{box-sizing:border-box}
html,body{
  margin:0; padding:0;
  font-family:'Cairo',sans-serif;
  background:#f2f4f7;
  min-height:100%;
}

/* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ */
#welcomeScreen{
  position:fixed; inset:0;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  background: linear-gradient(135deg,#ffffff 0%,#4caf50 50%,#f44336 100%);
  z-index:10;
  text-align:center;
}
#welcomeScreen .title{
  color:#d00000;
  font-size:2.4rem;
  font-weight:900;
  line-height:1.25;
}
#welcomeScreen button{
  padding:14px 26px;
  font-size:1.25rem;
  margin-top:26px;
  cursor:pointer;
  background:linear-gradient(45deg,#ff9800,#ff3d00);
  color:white;
  border:none;
  border-radius:14px;
  box-shadow:0 12px 24px rgba(0,0,0,.25);
}

/* Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
.container{
  width:100%;
  max-width:1100px;
  margin:0 auto;
  padding:18px 12px 30px;
  display:none;
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  flex-wrap:wrap;
  gap:10px;
  margin-bottom:14px;
}
.header h2{
  margin:0;
  font-size:1.35rem;
  font-weight:900;
}
.badge{
  background:#111827;
  color:#fff;
  padding:8px 12px;
  border-radius:999px;
  font-size:.9rem;
  font-weight:800;
  box-shadow:0 8px 18px rgba(0,0,0,.18);
}

.grid{
  display:grid;
  grid-template-columns: 1fr;
  gap:14px;
}
@media(min-width: 900px){
  .grid{ grid-template-columns: 1.1fr .9fr; align-items:start; }
}
.panel{
  background:#ffffff;
  border-radius:16px;
  padding:14px;
  box-shadow:0 10px 25px rgba(0,0,0,.10);
  border:1px solid rgba(0,0,0,.06);
}
.panel h3{
  margin:0 0 10px;
  font-size:1.05rem;
  font-weight:900;
  color:#111827;
}

/* ===== Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ===== */
.card{
  width:min(560px, 96vw);
  height:270px;
  display:flex;
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 14px 32px rgba(0,0,0,.20);
  background:#fff;
  border:1px solid rgba(0,0,0,.06);
  position:relative;
}

/* Ø§Ù„ÙŠØ³Ø§Ø± */
.left{
  width:42%;
  padding:14px 12px;
  position:relative;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:flex-start;
  gap:10px;
  background:var(--leftBg);
  color:var(--leftText);
}
.left::before{
  content:"";
  position:absolute; inset:-30px;
  opacity:.28;                 /* âœ… Ø£ÙˆØ¶Ø­ */
  background-image: var(--leftPattern);
  background-size: 80px 80px;  /* âœ… Ø£Ù‚Ø±Ø¨ */
  background-repeat: repeat;
  transform: rotate(-12deg);
  pointer-events:none;
}

/* âœ… ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø± */
.logoBox{
  width:90px; height:90px;
  border-radius:18px;
  background:#f3f6ff;
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
  border:1px solid rgba(0,0,0,.10);
  z-index:1;
}
.logoBox img{
  width:100%; height:100%;
  object-fit:cover;
  display:none;
}
.left h3{
  margin:0;
  font-size:20px;
  font-weight:900;
  z-index:1;
}
.left p{
  margin:0;
  font-size:13px;
  font-weight:800;
  color:rgba(0,0,0,.65);
  z-index:1;
}

/* ÙŠÙ…ÙŠÙ† */
.right{
  width:58%;
  padding:14px 14px 12px;
  position:relative;
  display:flex;
  flex-direction:column;
  gap:8px;
  background:var(--rightBg);
  color:var(--cardText);
}
.right::before{
  content:"";
  position:absolute; inset:-30px;
  opacity:.18;                 /* âœ… Ø£ÙˆØ¶Ø­ */
  background-image: var(--rightPattern);
  background-size: 90px 90px;
  background-repeat: repeat;
  transform: rotate(-12deg);
  pointer-events:none;
}

.topRow{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
  position:relative;
  z-index:1;
}
.titleBlock{min-width:0}
.titleAr{
  margin:0;
  font-size:22px;
  font-weight:900;
  line-height:1.1;
}
.titleFr{
  margin:2px 0 0;
  font-size:14px;
  font-weight:900;
  opacity:.95;
}

/* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ø¬Ø§Ù„ */
.icon{
  width:44px; height:44px;
  border-radius:14px;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.18);
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
}
#templateEmoji{
  font-size:22px;
  line-height:1;
}

.services{
  font-size:11.5px;
  line-height:1.45;
  opacity:.95;
  position:relative;
  z-index:1;
}

/* âœ… Ù…Ù‡Ù…: Ø¬Ø¹Ù„ Ø§Ù„Ù€ QR Ø¯Ø§Ø®Ù„ Ø§Ù„Ù€ footer (Ø¨Ø¯ÙˆÙ† absolute) Ø­ØªÙ‰ Ù„Ø§ ÙŠØºØ·ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ù‡Ø§ØªÙ */
.footer{
  margin-top:auto;
  display:grid;
  grid-template-columns: 1fr auto;
  gap:10px;
  align-items:end;
  position:relative;
  z-index:1;
}
.lines{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:12px;
  font-weight:900;
}
.line{
  display:flex;
  align-items:center;
  gap:8px;
  padding:7px 10px;
  border-radius:12px;
  background:rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.12);
}
.line small{
  font-weight:900;
  letter-spacing:.2px;
  word-break:break-word;
}

/* âœ… QR Ø£ÙˆØ¶Ø­ + Ù„Ù† ÙŠØºØ·ÙŠ Ø§Ù„Ù†Øµ */
.qrBox{
  background:#fff;
  padding:10px;
  border-radius:14px;
  box-shadow:0 12px 26px rgba(0,0,0,.22);
  border:2px solid rgba(0,0,0,.12);
}

/* âœ… Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ: Ù†Ø¬Ø¹Ù„ Ø§Ù„Ù€ footer Ø¹Ù…ÙˆØ¯ÙŠ (Ø§Ù„Ù†Øµ Ø«Ù… QR) */
@media (max-width: 520px){
  .card{ height:auto; }
  .footer{
    grid-template-columns: 1fr;
    align-items:start;
  }
  .qrBox{
    width:max-content;
  }
}

/* ===== Ø§Ù„ÙÙˆØ±Ù… ===== */
.field{ margin:10px 0; }
label{
  display:block;
  margin:0 0 6px;
  font-size:.92rem;
  font-weight:900;
  color:#111827;
}
input, textarea, select{
  width:100%;
  padding:11px 12px;
  border-radius:12px;
  border:1px solid rgba(0,0,0,.12);
  outline:none;
  background:#fff;
  font-family:'Cairo',sans-serif;
}
textarea{ min-height:90px; resize:vertical; }

.pickers{
  display:grid;
  gap:10px;
  margin-top:10px;
}
.pickerRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  background:#f7f7f9;
  border:1px solid rgba(0,0,0,.06);
}
.pickerRow label{ margin:0; font-size:.92rem; }
.pickerRow select{ width:52%; }

.actions{
  display:flex;
  gap:12px;
  margin-top:12px;
}
.btn{
  flex:1;
  padding:12px 14px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-weight:900;
  color:#fff;
  box-shadow:0 12px 26px rgba(0,0,0,.18);
  transition: transform .15s ease, filter .15s ease;
}
.btn:hover{ transform: translateY(-2px); filter:brightness(1.05); }
.primary{ background: linear-gradient(45deg,#22c55e,#16a34a); }
.secondary{ background: linear-gradient(45deg,#ff9800,#ff3d00); }

#socialLinks{
  display:flex;
  justify-content:center;
  gap:26px;
  font-size:2.2rem;
  margin-top:12px;
}
#socialLinks a{ text-decoration:none; transition: transform .2s ease; }
#socialLinks a:hover{ transform: scale(1.15); }

.note{
  margin-top:10px;
  font-size:.92rem;
  color:rgba(17,24,39,.7);
  font-weight:700;
}
</style>
</head>

<body>

<div id="welcomeScreen">
  <div class="title">Ù‚ÙˆØ§Ù„Ø¨<br>Ali.dz</div>
  <button onclick="enterApp()">Ø¯Ø®ÙˆÙ„</button>
</div>

<div class="container" id="mainApp">
  <div class="header">
    <h2>Ali Cards Platform â€” ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ</h2>
    <div class="badge">vCard + QR</div>
  </div>

  <div class="grid">
    <!-- Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© -->
    <div class="panel">
      <h3>Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</h3>

      <div class="card" id="card">
        <div class="left" id="leftSide">
          <div class="logoBox">
            <img id="logoPreview" alt="logo" />
          </div>
          <h3 id="personDisplay">Bosri Sara</h3>
          <p id="jobDisplay">Docteur VÃ©tÃ©rinaire</p>
        </div>

        <div class="right" id="rightSide">
          <div class="topRow">
            <div class="titleBlock">
              <h2 class="titleAr" id="companyDisplay">ali.dz</h2>
              <p class="titleFr" id="companyDisplay2">Cabinet vÃ©tÃ©rinaire</p>
            </div>
            <div class="icon" title="Ø±Ù…Ø² Ø§Ù„Ù…Ø¬Ø§Ù„">
              <span id="templateEmoji">ğŸ¶ğŸ±</span>
            </div>
          </div>

          <div class="services" id="descDisplay">
            Consultation, Traitement, Vaccination<br>
            Chirurgie, Hospitalisation, Suivi dâ€™Ã©levage<br>
            Accessoires & produits â€¢ Toilettage
          </div>

          <!-- âœ… Footer: Ø§Ù„Ù†Øµ + QR Ø¨Ø¯ÙˆÙ† ØªØ¯Ø§Ø®Ù„ (Ù…Ù‡Ù… Ù„Ù„Ù‡Ø§ØªÙ) -->
          <div class="footer">
            <div class="lines">
              <div class="line"><span>ğŸ“</span><small id="phoneDisplay">0671720653</small></div>
              <div class="line"><span>â“•</span><small id="fbDisplay">Ali.dz</small></div>
              <div class="line"><span>ğŸ“</span><small id="addrDisplay">CITE TIARET</small></div>
            </div>
            <div class="qrBox"><div id="qrcode"></div></div>
          </div>
        </div>
      </div>

      <div class="note">âœ… Ø§Ù„Ø¢Ù† Ø§Ù„Ù€ QR Ù„Ù† ÙŠØ®ÙÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ + Ø§Ù„Ø±Ù…ÙˆØ² Ø£ÙˆØ¶Ø­ ÙƒÙ€ Pattern.</div>
    </div>

    <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
    <div class="panel">
      <h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>

      <div class="field">
        <label>Ù…Ø¬Ø§Ù„ Ø§Ù„Ù…Ø¤Ø³Ø³Ø© (ÙŠØ­Ø¯Ø¯ Ø§Ù„Ø±Ù…Ø² ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</label>
        <select id="templateSelect" onchange="updateTemplate()">
          <option value="">Ø¨Ø¯ÙˆÙ†</option>
          <option value="vet" selected>Ø¨ÙŠØ·Ø±ÙŠ</option>
          <option value="hair">Ø­Ù„Ø§Ù‚Ø©</option>
          <option value="law">Ù…Ø­Ø§Ù…Ø§Ø©</option>
          <option value="clinic">Ø¹ÙŠØ§Ø¯Ø©</option>
          <option value="pharmacy">ØµÙŠØ¯Ù„Ø©</option>
          <option value="dentist">Ø·Ø¨ Ø£Ø³Ù†Ø§Ù†</option>
          <option value="mechanic">Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ</option>
          <option value="plumber">Ø³Ø¨Ø§ÙƒØ©</option>
          <option value="construction">Ø¨Ù†Ø§Ø¡</option>
          <option value="translation">ØªØ±Ø¬Ù…Ø©</option>
          <option value="wedding">Ø²ÙØ§Ù</option>
          <option value="sweets">Ø­Ù„ÙˆÙŠØ§Øª</option>
          <option value="glass">Ø²Ø¬Ø§Ø¬</option>
          <option value="oilSale">Ø²ÙŠÙˆØª</option>
          <option value="tech">ØªÙ‚Ù†ÙŠØ©</option>
          <option value="realestate">Ø¹Ù‚Ø§Ø±Ø§Øª</option>
          <option value="restaurant">Ù…Ø·Ø¹Ù…</option>
          <option value="education">ØªØ¹Ù„ÙŠÙ…</option>
        </select>
      </div>

      <div class="field"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø© (Ø¹Ø±Ø¨ÙŠ)</label><input id="company" placeholder="Ù…Ø«Ø§Ù„: service online"></div>
      <div class="field"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø© (ÙØ±Ù†Ø³ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)</label><input id="company2" placeholder="Ù…Ø«Ø§Ù„: service online"></div>
      <div class="field"><label>Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ</label><input id="person" placeholder="Ù…Ø«Ø§Ù„: ALI DZ"></div>
      <div class="field"><label>Ø§Ù„Ù…Ù†ØµØ¨</label><input id="job" placeholder="Ù…Ø«Ø§Ù„: DIGITAL CREATER"></div>
      <div class="field"><label>Ø§Ù„Ù‡Ø§ØªÙ</label><input id="phone" placeholder="Ù…Ø«Ø§Ù„: 0671720653"></div>
      <div class="field"><label>ØµÙØ­Ø© ÙÙŠØ³Ø¨ÙˆÙƒ (Ø§Ø³Ù… Ø§Ù„ØµÙØ­Ø© ÙÙ‚Ø·)</label><input id="fb" placeholder="Ù…Ø«Ø§Ù„: Ali.dz"></div>
      <div class="field"><label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label><input id="addr" placeholder="Ù…Ø«Ø§Ù„: CITE TIARET"></div>
      <div class="field">
        <label>ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Ø³Ø·Ø± Ù„ÙƒÙ„ Ø®Ø¯Ù…Ø©)</label>
        <textarea id="desc" placeholder="Ù…Ø«Ø§Ù„:
Service online
Education
Payment
Program digital assistance"></textarea>
      </div>

      <div class="field">
        <label>Ø±ÙØ¹ Ø´Ø¹Ø§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
        <input type="file" accept="image/*" onchange="loadLogo(event)">
      </div>

      <div class="pickers">
        <div class="pickerRow">
          <label>Ù„ÙˆÙ† Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰</label>
          <select id="rightColorSelect" onchange="updateColors()">
            <option value="#13a7b7" selected>ØªØ±ÙƒÙˆØ§Ø²</option>
            <option value="#2563eb">Ø£Ø²Ø±Ù‚</option>
            <option value="#16a34a">Ø£Ø®Ø¶Ø±</option>
            <option value="#ef4444">Ø£Ø­Ù…Ø±</option>
            <option value="#f59e0b">Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ</option>
            <option value="#64748b">Ø±Ù…Ø§Ø¯ÙŠ</option>
          </select>
        </div>
        <div class="pickerRow">
          <label>Ù„ÙˆÙ† Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠØ³Ø±Ù‰</label>
          <select id="leftColorSelect" onchange="updateColors()">
            <option value="#ffffff" selected>Ø£Ø¨ÙŠØ¶</option>
            <option value="#f3f4f6">Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­</option>
          </select>
        </div>
        <div class="pickerRow">
          <label>Ù„ÙˆÙ† Ø§Ù„Ù†Øµ (ÙŠÙ…ÙŠÙ†)</label>
          <select id="textColorSelect" onchange="updateColors()">
            <option value="#ffffff" selected>Ø£Ø¨ÙŠØ¶</option>
            <option value="#0b1220">Ø¯Ø§ÙƒÙ†</option>
            <option value="#fffbeb">ÙØ§ØªØ­ Ø¬Ø¯Ù‹Ø§</option>
          </select>
        </div>
      </div>

      <div class="actions">
        <button class="btn primary" onclick="generateCard()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
        <button class="btn secondary" onclick="downloadCard()">ØªØ­Ù…ÙŠÙ„ PNG</button>
      </div>

      <div id="socialLinks">
        <a href="https://wa.me/2136671720653" target="_blank" style="color:#25D366;">ğŸ“±</a>
        <a href="mailto:algeriancitizen14@gmail.com" style="color:#D44638;">âœ‰ï¸</a>
        <a href="https://www.facebook.com/profile.php?id=61586367822913" target="_blank" style="color:#1877F2;">ğŸ“˜</a>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
function enterApp(){
  document.getElementById('welcomeScreen').style.display='none';
  document.getElementById('mainApp').style.display='block';
}

function loadLogo(e){
  const file = e.target.files?.[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    const img = document.getElementById('logoPreview');
    img.src = reader.result;
    img.style.display = 'block';
  };
  reader.readAsDataURL(file);
}

function updateColors(){
  const right = document.getElementById('rightColorSelect').value;
  const left  = document.getElementById('leftColorSelect').value;
  const text  = document.getElementById('textColorSelect').value;

  document.documentElement.style.setProperty('--rightBg', right);
  document.documentElement.style.setProperty('--leftBg', left);
  document.documentElement.style.setProperty('--cardText', text);

  updateTemplate();
}

/* Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª (Emoji) */
const templateEmojis = {
  "": "ğŸ·ï¸",
  vet: "ğŸ¾",            // âœ… Ø£ÙØ¶Ù„ Ù„Ù„Ù†Ù‚Ø´Ø© Ø¨Ø¯Ù„ ğŸ¶ğŸ± (Ø£ÙˆØ¶Ø­ Ù…Ø«Ù„ Ø§Ù„Ù…Ø«Ø§Ù„)
  hair: "âœ‚ï¸",
  law: "âš–ï¸",
  clinic: "ğŸ©º",
  pharmacy: "ğŸ’Š",
  dentist: "ğŸ¦·",
  mechanic: "ğŸ”§",
  plumber: "ğŸš°",
  construction: "ğŸ§±",
  translation: "ğŸŒ",
  glass: "ğŸªŸ",
  oilSale: "ğŸ›¢ï¸",
  wedding: "ğŸ’",
  sweets: "ğŸ¬",
  restaurant: "ğŸ½ï¸",
  tech: "ğŸ’»",
  realestate: "ğŸ ",
  education: "ğŸ“š"
};

/* âœ… Ø¥Ù†Ø´Ø§Ø¡ Pattern SVG Ø£ÙˆØ¶Ø­ */
function svgPatternDataUrl(symbol, colorRGBA){
  const svg = `
  <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90">
    <rect width="90" height="90" fill="transparent"/>
    <text x="12" y="38" font-size="34" fill="${colorRGBA}" opacity="0.9">${symbol}</text>
    <text x="46" y="76" font-size="34" fill="${colorRGBA}" opacity="0.9">${symbol}</text>
  </svg>`;
  return `url("data:image/svg+xml;utf8,${encodeURIComponent(svg)}")`;
}

function updateTemplate(){
  const selected = document.getElementById("templateSelect").value;
  const emoji = templateEmojis[selected] || "ğŸ·ï¸";
  document.getElementById("templateEmoji").textContent = emoji;

  const leftPattern  = svgPatternDataUrl(emoji, "rgba(0,0,0,0.85)");
  const rightPattern = svgPatternDataUrl(emoji, "rgba(255,255,255,0.90)");

  document.documentElement.style.setProperty("--leftPattern", leftPattern);
  document.documentElement.style.setProperty("--rightPattern", rightPattern);
}

/* vCard */
function safe(s){ return String(s || "").replace(/\r?\n/g, " ").trim(); }
function buildVCard({person, company, job, phone, fb, addr, desc}){
  return `BEGIN:VCARD
VERSION:3.0
FN:${safe(person)}
ORG:${safe(company)}
TITLE:${safe(job)}
TEL;TYPE=CELL:${safe(phone)}
ADR:${safe(addr)}
NOTE:${safe(desc)} | FB:${safe(fb)}
END:VCARD`;
}

function generateCard(){
  const company  = document.getElementById('company').value;
  const company2 = document.getElementById('company2').value;
  const person   = document.getElementById('person').value;
  const job      = document.getElementById('job').value;
  const phone    = document.getElementById('phone').value;
  const fb       = document.getElementById('fb').value;
  const addr     = document.getElementById('addr').value;
  const desc     = document.getElementById('desc').value;

  document.getElementById('companyDisplay').innerText  = company  || "Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø©";
  document.getElementById('companyDisplay2').innerText = company2 || "";
  document.getElementById('personDisplay').innerText   = person   || "Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ";
  document.getElementById('jobDisplay').innerText      = job      || "Ø§Ù„Ù…Ù†ØµØ¨";

  document.getElementById('descDisplay').innerHTML  = (desc || "ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø§Øª").replace(/\n/g,"<br>");
  document.getElementById('phoneDisplay').innerText = phone || "";
  document.getElementById('fbDisplay').innerText    = fb || "";
  document.getElementById('addrDisplay').innerText  = addr || "";

  updateTemplate();
  updateColors();

  const vcard = buildVCard({person, company, job, phone, fb, addr, desc});
  const qr = document.getElementById('qrcode');
  qr.innerHTML = "";

  // âœ… QR ÙˆØ§Ø¶Ø­ + Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù‡Ø§ØªÙ (Ù„Ø§ ÙŠØºØ·ÙŠ Ø§Ù„Ù†Øµ Ù„Ø£Ù†Ù‡ Ø¯Ø§Ø®Ù„ footer)
  new QRCode(qr, { text: vcard, width: 110, height: 110 });
}

function downloadCard(){
  const card = document.getElementById('card');
  html2canvas(card, { scale: 3 }).then(canvas=>{
    const link = document.createElement("a");
    link.download = "business-card.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
  });
}

/* Ø§ÙØªØ±Ø§Ø¶ÙŠ */
updateTemplate();
updateColors();
generateCard();
</script>

</body>
    </html>
